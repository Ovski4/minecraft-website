{% extends "::base.html.twig" %}

{% block stylesheets %}
  {{ parent() }}
  <link rel="stylesheet" type="text/css" href="bundles/studminestats/css/style.css"/>
{% endblock %}

{% block body %}

  {{ parent() }}

  <table class="kills">
      <thead>
          <tr>
              <th>Identifiant</th>
              <th>Tueur</th>
              <th>Tué</th>
              <th>Date</th>
              <th>Arme</th>
          </tr>
      </thead>
      <tbody>
      {% for kill in kills %}
          <tr>
              <td>{{ kill.id }}</td>
              <td>{{ kill.playerKiller.pseudo }}</td>
              <td>{{ kill.playerKilled.pseudo }}</td>
              <td>{{ kill.date|date('Y-m-d H:i:s') }}</td>
              <td><div class="weapon weapon_{{ kill.weapon }}"></div></td>
          </tr>
      {% endfor %}
      </tbody>
  </table>
      {% for enemy in enemies %}
        {% if enemy.count == 0 %}
        <p>Le pire ennemi de {{ enemy.killed }} est {{ enemy.killer }} avec {{ enemy.count }} kills.</p>
        {% else %}
        <p>{{ enemy.killed }} n'a pas de pire ennemi</p>
        {% endif %}
      {% endfor %}
  <table class="players">
      <thead>
          <tr>
              <td colspan="2">Joueur</td>
              <td>Blocs<br>placés</td>
              <td>Blocs<br>cassés</td>
              <td>Joueurs<br>tués</td>
              <td>Morts<br>au combat</td>
              <td>Morts<br>stupides</td>
              <td>Messages écrits<br>sur le chat</td>
              <td>Temps<br>de jeu</td>
          </tr>
      </thead>
      <tbody>
      {% for stat in stats %}
          <tr>
              <td>{{ stat.player.pseudo }}</td>
              <td><img src="https://minotar.net/avatar/{{ stat.player.pseudo }}" width="30px" height="30px"></td>
              <td>{{ stat.blocksPlaced }}</td>
              <td>{{ stat.blocksbroken }}</td>
              <td>{{ stat.kills }}</td>
              <td>{{ stat.deaths }}</td>
              <td>{{ stat.stupidDeaths }}</td>
              <td>{{ stat.verbosity }}</td>
              <td>{{ stat.timePlayed }}</td>
          </tr>
      {% endfor %}
      </tbody>
  </table>



{% endblock body %}
{% block javascripts %}{{ parent() }}{% endblock javascripts %}
