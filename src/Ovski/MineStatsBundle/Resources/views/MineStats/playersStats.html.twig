{% extends "::base.html.twig" %}

{% block menu %}

    {% include "OvskiWebsiteBundle:Website:menu.html.twig" with {active: 'stats'} %}

{% endblock %}

{% block body %}
    <h2><i class="icon-bar-chart"></i> Players stats</h2>

    {% if pager.haveToPaginate %}
        {{ pagerfanta(pager, 'twitter_bootstrap', {'routeName': 'players_stats_paginated'}) }}
    {% endif %}

    <header class="player-list-head row-fluid">
        <div class="offset1 span3"><i class="icon-male"></i> Players</div>
        <div class="span2"><i class="icon-screenshot"></i> Kills</div>
        <div class="faction span4"><i class="icon-group"></i> Faction</div>
        <div class="span2"><i class="icon-user"></i> Role</div>
    </header>
    <ul class="player-list">
        {% for player in pager.currentPageResults %}
            <li>
                <div class="row-fluid">
                    <div class="span1"><img src="https://minotar.net/avatar/{{ player.pseudo }}" width="30px" height="30px"></div>
                    <div class="span3"><a href="{{ path('player_stats', { pseudo: player.pseudo }) }}">{{ player.pseudo }}</a></div>
                    <div class="span2">{{ player.kills }}</div>
                    <div class="faction span4">
                        {% if player.faction %}
                            <span>
                                <a href="{{ path('faction_stats', { name: player.faction }) }}">{{ player.faction }}</a>
                            </span>
                        {% else %}
                            <span class="loner">whitout faction</span>
                        {% endif %}
                    </div>
                    <div class="span2">
                        {% if player.role %}
                            {{ player.role | capitalize }}
                        {% elseif player.faction %}
                            Member
                        {% else %}
                            /
                        {% endif %}
                    </div>
                </div>
            </li>
        {% endfor %}
    </ul>

    {% if pager.haveToPaginate %}
        {{ pagerfanta(pager, 'twitter_bootstrap', {'routeName': 'players_stats_paginated'}) }}
    {% endif %}

{% endblock %}
